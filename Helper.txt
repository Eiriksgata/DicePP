---------------------- 写在最前面 ---------------------- 
在搭设私骰前，最好先联系开发者（QQ：821480843）
由于时间精力限制，本项目尚有许多不足，敬请谅解
请勿将本代码用于违法犯罪用途！

---------------------- 基于腾讯云 Ubuntu 18.04 LTS ---------------------- 
下载文件
git clone https://github.com/haowen-li/DicePP.git

安装python3.7
sudo apt update && sudo apt install software-properties-common
sudo add-apt-repository ppa:deadsnakes/ppa
sudo apt install python3.7
安装curl
sudo apt install curl
安装pip
curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
sudo apt install python3-distutils
sudo python3.7 get-pip.py
sudo pip install launchpadlib
rm get-pip.py

安装依赖库
pip3 install --no-cache-dir "nonebot[scheduler]" && pip3 install --no-cache-dir -r ./DicePP/requirements.txt

设置go-cqhttp客户端 （注意版本号可能改变，可按tab自动补全，注意系统是linux还是windows）
tar -xzvf DicePP/tools/go-cqhttp-v0.9.29-fix2-linux-amd64.tar.gz
初次运行生成配置文件
./go-cqhttp
更改配置文件
vim config.json
按i进入编辑模式
修改uin为qq账号，password为密码
将http_config，ws_config，web_ui的enabled属性都设置为false
将ws_reverse_servers的enabled属性设置为true，将reverse_url属性设置为"ws://127.0.0.1:8080/ws/"
注意本身有双引号的写在双引号里，没有则不需双引号
最后按esc退出编辑模式，输入:wq保存并退出

---------- 在服务器上的自动部署方法 ----------
安装supervisor
wget https://pypi.io/packages/source/s/setuptools/setuptools-33.1.1.zip
unzip setuptools-33.1.1.zip
cd setuptools-33.1.1
sudo python setup.py install
sudo easy_install supervisor
cd ~
rm setuptools-33.1.1.zip
创建配置文件
sudo mkdir /etc/supervisord.d
echo_supervisord_conf > ~/supervisord.conf
sudo mv ~/supervisord.conf /etc/supervisord.conf
在配置文件最后添加以下内容来包含/etc/supervisord目录，注意以下两行为一个指令
sed -i '$a [include] \
files = /etc/supervisord.d/*.conf' /etc/supervisord.conf

新建日志文件夹
mkdir ~/superlogs
复制配置文件到指定位置
sudo cp ~/DicePP/tools/dicepp.conf /etc/supervisord.d/dicepp.conf
sudo cp ~/DicePP/tools/gocqhttp.conf /etc/supervisord.d/gocqhttp.conf

启动supervisor，dicepp和gocqhttp会自动开始运行
supervisord -c /etc/supervisord.conf
其他指令
supervisorctl status all                            #查看所有进程状态
supervisorctl stop   all                            #停止所有进程
supervisorctl start  all                            #启动所有进程
supervisorctl restart all                           #重启所有进程
supervisorctl reoload all                           #重载所有进程


---------------------- 基于Windows ---------------------- 
自行安装python3.7+，git

下载文件
git clone https://github.com/haowen-li/DicePP.git

安装python依赖库
pip3 install --no-cache-dir "nonebot[scheduler]" && pip3 install --no-cache-dir -r ./DicePP/requirements.txt

运行nonebot
python DicePP/dicepp.py

解压go-cqhttp.exe文件至任意目录（注意版本号可能改变，注意系统是linux还是windows）
DicePP/tool/go-cqhttp-v0.9.29-fix2-windows-amd64.zip
初次运行go-cqhttp.exe生成配置文件
编辑config.json：
修改uin为qq账号，password为密码
将http_config，ws_config，web_ui的enabled属性都设置为false
将ws_reverse_servers的enabled属性设置为true，将reverse_url属性设置为"ws://127.0.0.1:8080/ws/"
注意本身有双引号的写在双引号里，没有则不需双引号
再次运行go-cqhttp